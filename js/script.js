const url="https://cb.am/latest.json.php",urlBtc="https://blockchain.info/ticker",cells=document.getElementsByTagName("td"),clock=document.querySelector(".clock"),main=document.querySelector("main");let time=null,dialogIsOpen=!1;function showDialog(){dialogIsOpen=!0;const t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("p"),o=document.createElement("p"),a=document.createElement("input");t.classList.add("veil"),e.classList.add("dialog"),n.classList.add("info"),o.classList.add("author"),a.type="button",a.value="Հասկացա",n.textContent="Տվյալները վերցված են ՀՀ ԿԲ-ից և Blockchain.info կրիպտոարժույթային հարթակից",o.textContent="Coded by Emil Babayan, 2023, no rights reserved",a.addEventListener("click",(function(){t.remove(),e.remove(),dialogIsOpen=!1})),e.append(n,a,o),main.append(t,e)}function setTime(){const t=new Date,e=t.getHours(),n=t.getMinutes(),o=t.getSeconds(),a=`${e.toString().padStart(2,0)}:${n.toString().padStart(2,0)}:${o.toString().padStart(2,0)}`;clock.firstElementChild.textContent=a}function setDate(){const t=new Date,e=t.getMonth(),n=t.getDate(),o=t.getDay();let a=`${["Հունվարի","Փետրվարի","Մարտի","Ապրիլի","Մայիսի","Հունիսի","Հուլիսի","Օգոստոսի","Սեպտեմբերի","Հոկտեմբերի","Նոյեմբերի","Դեկտեմբերի"][e]} ${n}, ${["կիրակի","երկուշաբթի","երեքշաբթի","չորեքշաբթի","հինգշաբթի","ուրբաթ","շաբաթ"][o]}`;document.querySelector(".datecell").textContent=a}(async(t,e)=>{const n=await fetch(t),{CAD:o,EUR:a,RUB:c,USD:l,GBP:i,GEL:s,CHF:d}=await n.json(),r=[{USD:l},{EUR:a},{GBP:i},{CAD:o},{CHF:d},{RUB:c},{GEL:s}];for(let t=0;t<r.length;t++)cells[t+1].textContent=Object.values(r[t])[0];fetch(e).then((t=>t.json())).then((({USD:t})=>{cells[cells.length-1].textContent=Math.floor(t["15m"]*r[0].USD)}))})(url,urlBtc),window.addEventListener("keydown",(function(t){"F12"==t.key&&t.preventDefault(),t.altKey&&t.ctrlKey&&"i"==t.key&&!dialogIsOpen&&showDialog()})),window.addEventListener("DOMContentLoaded",(function(){setDate(),setTime(),time=setInterval(setTime,1e3)})),window.addEventListener("contextmenu",(function(t){t.preventDefault()}));